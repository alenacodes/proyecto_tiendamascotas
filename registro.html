<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="css/style_formulario.css">
  <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper)  -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
     -->
  <!-- Option 2: Separate Popper and Bootstrap JS 
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>
  -->
  <title>Ingresa tus datos</title>
</head>
<body>
  <section class="form-register" id="Registro">
    <h4>¡Regístrate!</h4>
    
    <input type="text" class="controls"  id="inputNombres" placeholder="Ingrese su Nombre">
    <input class="controls" type="text" id="inputApellidos" placeholder="Ingrese su Primer Apellido">
    <input class="controls" type="email"  id="inputCorreo" placeholder="Ingrese su Correo">
    <input class="controls" type="password" id="inputPassword" placeholder="Ingrese su Contraseña">
    <p>Estoy de acuerdo con <a href="#">Términos y Condiciones</a></p>
    <a id="btnRegistrarUsuario" class="btn btn-primary" type="submit">Registrar</a>
    <!-- 
    <input class="button" type="submit"  id="btnRegistrarUsuario">
    -->
    <p><a href="#">¿Tienes una Cuenta?</a></p>
  </section>
  <!--  Codigo by Manu-->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    
  <script>
    const API_URL = 'http://127.0.0.1:5000/';

    //Iniciar el formulario 
    
    $(document).ready(function(){
      limpiarFormulario();
    });
     

    //Registrar un nuevo usuario al hacer click en el boton
    $(document).on('click', '#btnRegistrarUsuario', function(){
      //obtener los datos del usuario
      
      var nombres = $('#inputNombres').val();
      var apellidos = $('#inputApellidos').val();
      var correo = $('#inputCorreo').val();
      var password = $('#inputPassword').val();
      var estado = 1;  //1 = activo, 0 = inactivo
      
      console.log(nombres, apellidos, correo, password, estado);
      //cargar los datos mediante ajax
      $.ajax({
        url: API_URL+'registro', 
        type: 'POST',  
        contentType: 'application/json',
        data: JSON.stringify({
          //id_registro:id,
          correo: correo,
          password: password,
          estado: estado,
          primer_nombre: nombres,
          primer_apellido: apellidos
          
        }),
        success: function(respuesta) {
          console.log(respuesta);
          
         }
      })
    
    });
    
    function limpiarFormulario(){
      $('#inputNombres').val('');
      $('#inputApellidos').val('');
      $('#inputCorreo').val('');
      //$('#inputApellidoMaterno').val('');
      $('#inputPassword').val('');
      /*

      $('#btnAgregarUsuario').show();
      $('#btnEditarUsuarioTabla').hide();
      $('#btnCancelarEdicion').hide();
      */
    }
    


  </script>
</body>
</html>
